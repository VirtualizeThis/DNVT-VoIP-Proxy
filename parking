// Code for the call control section

void (*on_incoming_call)(pjsua_acc_id acc_id, pjsua_call_id call_id, pjsip_rx_data *rdata)ÔÉÅ

    Notify application on incoming call.

    Param acc_id

        The account which match the incoming call.
    Param call_id

        The call id that has just been created for the call.
    Param rdata

        The incoming INVITE request.


   // Initialize PJSUA library
    
    // Config Members Required Data for pjsua_int()
    /*-------------------------------------------*/
    cfg.max_calls = 100;
    cfg.thread_cnt = 2;
 
    log_cfg.level = 4; // PJ_LOG_DEBUG
    log_cfg.console_level = 4; // PJ_LOG_DEBUG
    log_cfg.cb = NULL;

    media_cfg.clock_rate = 16000;
    media_cfg.snd_clock_rate = 44100;
    media_cfg.ec_tail_len = 128;
    media_cfg.quality = 10;
    media_cfg.no_vad = PJ_TRUE;
    media_cfg.channel_count = 2;







// Create SIP endpoint
    pjsua_acc_id acc_id;
    pjsua_transport_id transport_id;
    pjsip_endpoint *sip_endpoint;

    // Create memory pool
    pj_pool_t *pool_one;

    // Initialize caching pool
    pj_caching_pool cache_pool_one;
    pj_caching_pool_init(&cache_pool_one, NULL, 1024);

    // Create a pool using the caching pool
    pj_pool_create(&cache_pool_one.factory, "my_pool", 1000, 1000, &pool_one);



    // Create endpoint configuration
    pjsip_endpoint_cfg endpoint_cfg;
    pjsip_endpoint_cfg_default(&endpoint_cfg);  // Initialize with default settings

    // Set pool to use for endpoint_cfg
    endpoint_cfg.pool = pool_one;

    // Create PJSIP endpoint
    pjsip_endpoint *endpoint;
    status = pjsip_endpt_create(&endpoint_cfg, NULL, &endpoint);
    if (status != PJ_SUCCESS) { 
        pj_shutdown();
        return strdup("Error creating PJSIP endpoint"); // allocate and return a duplicate string
}

    // Create SIP transport
    pjsip_transport* transport;
    pjsua_transport_config transport_cfg;
    pjsua_transport_config_default(&transport_cfg);
    status = pjsip_udp_transport_start(endpoint, NULL, NULL, 1, &transport);
    if (status != PJ_SUCCESS) {
        pjsip_endpt_destroy(endpoint);
        pj_shutdown();
        return strdup("Error creating SIP transport");
    }